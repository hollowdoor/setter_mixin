{"version":3,"file":"setter-mixin.min.js","sources":["../node_modules/object-assign/index.js","../node_modules/raw-object/dist/bundle.es.js","../src/index.js"],"sourcesContent":["/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","import objectAssign from 'object-assign';\n\n//Supposedly faster for v8 than just Object.create(null)\nfunction Raw(){}\nRaw.prototype = (function (){\n    //Maybe some old browser has risen from it's grave\n    if(typeof Object.create !== 'function'){\n        var temp = new Object();\n        temp.__proto__ = null;\n        return temp;\n    }\n\n    return Object.create(null);\n})();\n\nfunction rawObject(){\n    var objects = [], len = arguments.length;\n    while ( len-- ) objects[ len ] = arguments[ len ];\n\n    var raw = new Raw();\n    objectAssign.apply(void 0, [ raw ].concat( objects ));\n    return raw;\n}\n\nexport default rawObject;\n//# sourceMappingURL=bundle.es.js.map\n","import rawObject from 'raw-object';\n\nfunction getProps(properties){\n    let p = (properties + '');\n    let ps = p.length === 1\n    ? p\n    : p\n    .split(/\\n+/).join('')\n    .split(/(\\[)([\\s\\S]+?)(\\])/);\n\n    let props = [];\n\n    //If brackets are found there\n    //will be a hanging empty string so\n    if(ps[ps.length - 1] === ''){\n        ps = ps.slice(0, -1);\n        //When a bracket is at the first level\n        if(ps[0] === ''){\n            ps = ps.slice(1);\n        }\n    }\n\n    for(let i=0; i<ps.length; i++){\n        //Ignore dots between brackets\n        if(ps[i] === '['){\n            props.push(ps[++i]); ++i;\n        }else{\n            let items = ps[i].split('.');\n            while(items.length){\n                props.push(items.shift());\n            }\n        }\n    }\n\n    return props;\n}\n\nfunction getBase(src, props, end = 1){\n    let object = src;\n\n    for(let i=0; i<props.length; i++){\n\n        let prop = props[i];\n\n        //It was objects the whole way so\n        if(i === props.length - end){\n            return {object, prop}; //at the end\n        }\n\n        //Maybe the next object doesn't exist so\n        if(object[props[i]] === void 0){\n            object[props[i]] = rawObject();\n        }\n\n        object = object[props[i]];\n    }\n\n    return {object, prop: props[0]};\n}\n\nfunction setMasked(src, props, value, masks){\n    let {object, prop} = getBase(src, props, 2);\n    return object[masks[prop].set](props[props.length - 1], value);\n}\n\nfunction getMasked(src, props, masks){\n    let {object, prop} = getBase(src, props, 2);\n    return object[masks[prop].get](props[props.length - 1]);\n}\n\nfunction hasMask(props, masks){\n    return props.length > 1 && masks[props[props.length - 2]] !== void 0;\n}\n\nfunction set(src, properties, value, defaults, masks){\n    let obj = src;\n    let props = getProps(properties);\n    let i = 0;\n\n    if(value === void 0){\n        value = defaults[properties];\n    }\n\n    if(hasMask(props, masks)){\n        return setMasked(obj, props, value, masks);\n    }\n\n    let {object, prop} = getBase(obj, props);\n    object[prop] = value;\n}\n\nfunction get(src, properties, defaults, masks){\n    let obj = src;\n    let props = getProps(properties);\n    let value;\n\n    if(hasMask(props, masks)){\n        value = getMasked(obj, props, masks);\n    }else{\n        let {object, prop} = getBase(obj, props);\n        value = object[prop];\n    }\n\n    if(value === void 0){\n        value = defaults[properties];\n        if(value !== void 0){\n            set(src, properties, value, {}, {});\n        }\n    }\n\n    return value;\n}\n\nfunction setAll(obj, values, defaults, masks){\n    let props = Object.keys(values);\n    for(let i=0; i<props.length; i++){\n        set(obj, props[i], values[props[i]], defaults, masks);\n    }\n}\n\nfunction deleteMasked(src, properties, masks){\n    let {object, prop} = getBase(src, props, 2);\n    return object[masks[prop].delete](props[props.length - 1]);\n}\n\nfunction deleteProp(src, properties, masks){\n    let obj = src;\n    let props = getProps(properties);\n    let value;\n\n    if(hasMask(props, masks)){\n        deleteMasked(obj, props, masks);\n    }else{\n        let {object, prop} = getBase(obj, props);\n        delete object[prop];\n    }\n}\n\nfunction has(src, properties, defaults, masks){\n    return get(src, properties, defaults, masks) !== void 0;\n}\n\nexport class QuickSetter {\n    constructor(object, {\n        defaults = {},\n        masks = {}\n    } = {}){\n        this.object = object;\n        this.defaults = defaults;\n        this.masks = masks;\n    }\n    set(properties, value){\n        set(this.object, properties, value, this.defaults, this.masks);\n    }\n    get(properties){\n        return get(this.object, properties, this.defaults, this.masks);\n    }\n    setAll(obj){\n        setAll(this.object, obj, this.defaults, this.masks);\n    }\n    delete(properties){\n        deleteProp(this, properties, masks);\n    }\n    has(properties){\n        return has(this.object, properties, this.defaults, this.masks);\n    }\n}\n\nexport function q(object, options){\n    return new QuickSetter(object, options);\n}\n\nexport function mixinSetter(proto, {\n    defaults = {},\n    masks = {}\n} = {}){\n\n    if(typeof defaults !== 'object'){\n        defaults = {};\n    }\n\n    Object.assign(proto, {\n        set(properties, value){\n            set(this, properties, value, defaults, masks);\n        },\n        get(properties){\n            return get(this, properties, defaults, masks);\n        },\n        setAll(obj){\n            setAll(this, obj, defaults, masks);\n        },\n        delete(properties){\n            deleteProp(this, properties, masks);\n        },\n        has(properties){\n            return has(this, properties, defaults, masks);\n        }\n    });\n\n    return proto;\n}\n"],"names":["getOwnPropertySymbols","Object","hasOwnProperty","prototype","propIsEnumerable","propertyIsEnumerable","assign","test1","String","getOwnPropertyNames","test2","i","fromCharCode","map","n","join","test3","split","forEach","letter","keys","err","shouldUseNative","target","source","from","symbols","to","val","TypeError","toObject","s","arguments","length","key","call","Raw","rawObject","objects","len","raw","objectAssign","apply","concat","getProps","properties","let","p","ps","props","slice","push","items","shift","getBase","src","end","object","prop","hasMask","masks","set","value","defaults","obj","get","setAll","values","deleteProp","delete","has","create","temp","__proto__","QuickSetter","ref","this","options","proto"],"mappings":"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"}